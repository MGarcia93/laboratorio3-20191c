CREATE DATABASE PARTE1
USE PARTE1
CREATE TABLE AUTORES(
	ID BIGINT NOT NULL PRIMARY KEY IDENTITY(1,1),
	APELLIDO VARCHAR(50) NOT NULL,
	NOMBRES VARCHAR(50) NOT NULL,
	FNAC DATE NOT NULL	
)
CREATE TABLE CATEGORIAS(
	ID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	NOMBRE VARCHAR(50) NOT NULL
)
CREATE TABLE FORMATOS(
	ID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	NOMBRE_CORTO VARCHAR(4) NOT NULL,
	NOMBRE_LARGO VARCHAR(40) NOT NULL
)
CREATE TABLE LIBROS(
	ID BIGINT NOT NULL PRIMARY KEY IDENTITY(1,1),
	TITULO VARCHAR(50) NOT NULL,
	IDCATEGORIA INT NOT NULL FOREIGN KEY REFERENCES CATEGORIAS(ID),
	PAGINAS SMALLINT NOT NULL CHECK (PAGINAS > 0)
)
/*CREATE TABLE LIBROS_X_AUTORES(
	IDLIBRO BIGINT NOT NULL FOREIGN KEY REFERENCES LIBROS(ID),
IDAUTOR BIGINT NOT NULL FOREIGN KEY REFERENCES AUTORES(ID),
PRIMARY KEY (IDLIBRO, IDAUTOR)	
)*/
CREATE TABLE CATALOGO(
	IDLIBRO BIGINT NOT NULL FOREIGN KEY REFERENCES LIBROS(ID),
	IDFORMATO INT NOT NULL FOREIGN KEY REFERENCES FORMATOS(ID),
	PRECIO MONEY NOT NULL CHECK(PRECIO >= 0),
	FECHA DATE NOT NULL,
	TAMAÑO BIGINT NOT NULL,
	PRIMARY KEY (IDLIBRO, IDFORMATO)		
)
