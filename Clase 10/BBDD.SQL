use master
go
drop database PARCIAL1_PARTE2
go
CREATE DATABASE PARCIAL1_PARTE2
GO
USE PARCIAL1_PARTE2
GO
CREATE TABLE PAISES(
	IDPAIS INT NOT NULL PRIMARY KEY,
	PAIS VARCHAR(30) NOT NULL
)
GO
CREATE TABLE SENSORES(
	IDSENSOR INT NOT NULL PRIMARY KEY,
	IDPAIS INT NOT NULL FOREIGN KEY REFERENCES PAISES (IDPAIS)
)
GO
CREATE TABLE MEDICIONES(
	IDMEDICION BIGINT NOT NULL PRIMARY KEY,
	IDSENSOR INT NOT NULL FOREIGN KEY REFERENCES SENSORES(IDSENSOR),
	FECHA_HORA SMALLDATETIME NOT NULL,
	TEMPERATURA SMALLINT  NULL, -- EN GRADOS CENTÍGRADOS
	VIENTO SMALLINT NULL, -- EN KM/H
	LLUVIA SMALLINT NULL, -- EN MM
	HUMEDAD SMALLINT NULL, -- PORCENTAJE
)

/* PAÍSES */
INSERT INTO PAISES (IDPAIS, PAIS) VALUES (1, 'ARGENTINA')
INSERT INTO PAISES (IDPAIS, PAIS) VALUES (2, 'BRASIL')
INSERT INTO PAISES (IDPAIS, PAIS) VALUES (3, 'URUGUAY')
INSERT INTO PAISES (IDPAIS, PAIS) VALUES (4, 'CHILE')
INSERT INTO PAISES (IDPAIS, PAIS) VALUES (5, 'BOLIVIA')

/* SENSORES */
INSERT INTO SENSORES (IDSENSOR, IDPAIS) VALUES (1, 1)
INSERT INTO SENSORES (IDSENSOR, IDPAIS) VALUES (2, 2)
INSERT INTO SENSORES (IDSENSOR, IDPAIS) VALUES (3, 2)
INSERT INTO SENSORES (IDSENSOR, IDPAIS) VALUES (4, 3)
INSERT INTO SENSORES (IDSENSOR, IDPAIS) VALUES (5, 4)

/* MEDICIONES */
SET DATEFORMAT 'DMY'
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(1,2,'06/06/2018 16:00',-2,24,28,53);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(2,1,'01/04/2019 19:00',13,6,0,84);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(3,2,'08/05/2019 12:00',24,4,8,26);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(4,5,'06/05/2019 19:00',12,11,90,29);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(5,5,'01/02/2019 20:00',20,15,39,52);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(6,5,'02/02/2019 16:00',30,21,39,37);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(7,5,'03/02/2019 16:00',18,6,18,40);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(8,1,'13/05/2019 16:00',12,2,0,1);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(9,1,'13/05/2019 17:00',24,26,0,66);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(10,1,'13/05/2019 16:00',32,24,9,66);
INSERT INTO MEDICIONES(IDMEDICION,IDSENSOR,FECHA_HORA,TEMPERATURA,VIENTO,LLUVIA,HUMEDAD) VALUES(11,1,'13/05/2019 21:00',23,27,2,87);